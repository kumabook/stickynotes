<?xml version="1.0"?>
<!DOCTYPE overlay SYSTEM "chrome://stickynotes/locale/">
<overlay id="stickynotes-overlay"
		 xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
  <toolbar id="nav-bar">
	<toolbarbutton
	   id="stickynotes-menu-button" type="menu-button"
	   class="toolbarbutton-1 chromeclass-toolbar-additional"
	   image="chrome://stickynotes/content/stickynotes-icon.png"
	   label="StickyNotes" tooltiptext="StickyNotes Menu">
	  <menupopup 
		 id="SNB_bookmarksPopup" placespopup="true"
		 context="placesContext" openInTabs="children"
		 popupsinherittooltip="true">
		<menuitem 
		   id="SNB" placesanonid="view-toolbar"
		   toolbarId="StickyNotesToolbar"
		   observes="stickyListSidebarVisibility"/>
		<menuseparator/>
		<menuitem 
		   id="stickynotes-menu-button-menuitem-create" 
		   label="&stickyMenu.label;"
		   command="create_sticky"	/>
		<menuitem 
		   id="stickynotes-menu-button-menuitem-toggle"
		   observes="stickiesVisibility"/>
	  </menupopup>
	</toolbarbutton>
  </toolbar>

  <menupopup id="menu_ToolsPopup">
    <menuitem
	   id="sticky_menu"
	   key="key_openSidebar_stickynotes"
	   observes="stickyListSidebarVisibility"
	   insertbefore="sanitizeSeparator" />
  </menupopup>
  <popup id="contentAreaContextMenu">
    <menuitem 
	   id="sticky_popup"
	   label="&stickyMenu.label;"
	   key="key_create_stickynotes"
	   command="create_sticky" 
	   />
    <menuitem 
	   id="sticky_toggle_popup"
	   key="key_toggle_stickynotes"			  
	   observes="stickiesVisibility"
	   />
  </popup>
  <keyset id="mainKeyset">
    <key id="key_openSidebar_stickynotes" key="s" modifiers="accel shift" command="stickyListSidebarVisibility"/>
    <key id="key_toggle_stickynotes" key="q" modifiers="control" command="toggle_sticky"/>
    <key id="key_create_stickynotes" key="c" modifiers="control shift" command="create_sticky"/>
    <key id="key_focusSidebar_stickynotes" key="f" modifiers="control shift" command="focusSidebar_sticky"/>
  </keyset>
  <menupopup id="viewSidebarMenu">
    <menuitem observes="stickyListSidebarVisibility" key="key_openSidebar_stickynotes"/>
  </menupopup>
  <commandset>
    <command id="toggle_sticky" oncommand="stickynotes.StickyView.toggleVisibilityAllStickies();"/>
    <command id="create_sticky" oncommand="stickynotes.createSticky();"/>
    <command id="focusSidebar_sticky" oncommand="stickynotes.Sidebar.focusSidebar();"/>
  </commandset>
  <broadcasterset>
    <broadcaster
	   id="stickyListSidebarVisibility"
	   label="&show_sticky_list.label;"
	   autoCheck="false" type="checkbox" group="sidebar"
	   sidebartitle="&sticky_list.sidebarTitle;"
	   sidebarurl="chrome://stickynotes/content/sidebar.xul"
	   oncommand="toggleSidebar('stickyListSidebarVisibility');"/>
	<broadcaster
	   id="stickiesVisibility"
	   label="&stickyToggleMenu.label;"
	   oncommand="stickynotes.StickyView.toggleVisibilityAllStickies();"/>
  </broadcasterset>
  <script type="application/x-javascript" src="chrome://stickynotes/content/base.js" />
  <script type="application/x-javascript" src="chrome://stickynotes/content/Sticky.js" />
  <script type="application/x-javascript" src="chrome://stickynotes/content/Page.js" />
  <script type="application/x-javascript" src="chrome://stickynotes/content/Tag.js" />
  <script type="application/x-javascript" src="chrome://stickynotes/content/StickyView.js" />
  <script type="application/x-javascript" src="chrome://stickynotes/content/Sidebar.js" />
  <script type="application/x-javascript" src="chrome://stickynotes/content/overlay.js" />
  <script type="application/x-javascript">
    var localizedStrings = {
      noTitle: "&sticky.noTitle;",
      defaultContent: "&sticky.defaultContent;",
      placeholderText: "&sticky.placeholderText;"
    };
  </script>
</overlay>
